<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/common.css" />

    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/define.css">

    <link rel="stylesheet" href="http://www.jq22.com/demo/colpick-jQuery-Color-Picker-master/css/colpick.css" type="text/css" />

    <link href="css/editor/summernote.css" rel="stylesheet"/>

    <title>ccpool</title>

    <script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
    <script src="https://img.hcharts.cn/highcharts/modules/exporting.js"></script>
    <script src="https://img.hcharts.cn/highcharts/modules/series-label.js"></script>
    <script src="https://img.hcharts.cn/highcharts/modules/oldie.js"></script>
    <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>

</head>
<body class="sidebar-mini fixed  pace-done">
<div class="pace  pace-inactive">
    <div class="pace-progress" data-progress-text="100%" data-progress="99"
         style="transform: translate3d(100%, 0px, 0px);">
        <div class="pace-progress-inner"></div>
    </div>
    <div class="pace-activity"></div>
</div>
<div class="wrapper">
    <!-- Navbar-->
    <header class="main-header hidden-print"><a class="logo" href="/html/index.html" style="margin-top:0px;font-size:40px;text-align:center;">ccpool</a>
        <nav class="navbar navbar-static-top">
            <a class="sidebar-toggle" href="/html/index.html" data-toggle="offcanvas"></a>
            <!-- Navbar Right Menu-->
            <div class="navbar-custom-menu">
                <ul class="top-nav">
                    <!--Notification Menu-->
                    <li class="dropdown notification-menu">
                        <a class="dropdown-toggle" href="/html/index.html" data-toggle="dropdown"
                           aria-expanded="false">
                            <i class="fa fa-bell-o fa-lg"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="not-head">你有4个消息待查看</li>
                            <li><a class="media" href="javascript:;"><span class="media-left media-icon"><span
                                    class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x text-primary"></i><i
                                    class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></span>
                                <div class="media-body"><span class="block">有尚未审批的工单待处理</span><span
                                        class="text-muted block">2分钟前</span></div>
                            </a></li>
                            <li><a class="media" href="javascript:;"><span class="media-left media-icon"><span
                                    class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x text-danger"></i><i
                                    class="fa fa-hdd-o fa-stack-1x fa-inverse"></i></span></span>
                                <div class="media-body"><span class="block">你的密码是初始密码，请速修改</span><span
                                        class="text-muted block">1天前</span></div>
                            </a></li>
                            <li><a class="media" href="javascript:;"><span class="media-left media-icon"><span
                                    class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x text-success"></i><i
                                    class="fa fa-money fa-stack-1x fa-inverse"></i></span></span>
                                <div class="media-body"><span class="block">有合约即将到期，请联系客户续约</span><span
                                        class="text-muted block">5天前</span></div>
                            </a></li>
                            <li class="not-footer"><a href="#">查看所有提醒</a></li>
                        </ul>
                    </li>
                    <!-- User Menu-->
                    <li class="dropdown">
                        <a class="dropdown-toggle" href="/html/index.html" data-toggle="dropdown" role="button"
                           aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-user fa-lg"></i>
                        </a>
                        <ul class="dropdown-menu settings-menu">
                            <li><a href="http://demo.cssmoban.com/cssthemes4/tpez_6_vf/dist/page-user.html"><i
                                    class="fa fa-cog fa-lg"></i> Settings</a></li>
                            <li><a href="http://demo.cssmoban.com/cssthemes4/tpez_6_vf/dist/page-user.html"><i
                                    class="fa fa-user fa-lg"></i> Profile</a></li>
                            <li><a href="http://demo.cssmoban.com/cssthemes4/tpez_6_vf/dist/page-login.html"><i
                                    class="fa fa-sign-out fa-lg"></i> Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- Side-Nav-->
    <aside class="main-sidebar hidden-print">
        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 1284px;">
            <section class="sidebar" style="overflow: hidden; width: auto; height: 1284px;">
                <div class="user-panel">
                    <div class="pull-left image"><img class="img-circle" src="images/48.jpg" alt="User Image"></div>
                    <div class="pull-left info">
                        <p>刘利洋</p>
                        <p class="designation">超级管理员</p>
                    </div>
                </div>
                <!-- Sidebar Menu-->
                <ul class="sidebar-menu">
                    <li class="active">
                        <a href="#" onclick="jump(1)"><i class="fa fa-dashboard"></i><span>概况</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(4)"><i class="fa fa-dashboard"></i><span>用户管理</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(5)"><i class="fa fa-dashboard"></i><span>合约管理</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(6)"><i class="fa fa-dashboard"></i><span>工单管理</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(3)"><i class="fa fa-dashboard"></i><span>参数设置</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(7)"><i class="fa fa-dashboard"></i><span>公告管理</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(8)"><i class="fa fa-dashboard"></i><span>常见问题管理</span></a>
                    </li>
                    <li class="active">
                        <a href="#" onclick="jump(9)"><i class="fa fa-dashboard"></i><span>留言管理</span></a>
                    </li>
                </ul>
            </section>
            <div class="slimScrollBar"
                 style="background: rgba(0, 0, 0, 0.8); width: 3px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 1284px;"></div>
            <div class="slimScrollRail"
                 style="width: 3px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;"></div>
        </div>
    </aside>

    <div class="content-wrapper" id="basic_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">概况统计</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="basic_manager">
            <div class="col-md-12">
                <div class="card" style="width:50%;float:left;">
                    <h3 class="card-title">工单信息</h3>
                    <div class="embed-responsive embed-responsive-16by9">
                        <div id="container-work" style="min-width:400px;height:400px"></div>
                    </div>
                </div>
                <div class="card" style="width:50%;float:left;">
                    <h3 class="card-title">工单信息</h3>
                    <div class="embed-responsive embed-responsive-16by9">
                        <div id="container-work1" style="min-width:400px;height:400px"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div hidden class="content-wrapper" id="user_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span id="spanJump"><a href="#" onclick="jump(1)">用户</a>><a href="#" onclick="jump(2)">用户管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="user_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAutoAddUser" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:left;"><i class="fa fa-file"></i>一键新增用户</a><a id="btnAddUserDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增用户</a>
                    </div>
                    <div class="card-body">
                        <div id="user_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="user_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                            <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Position: activate to sort column ascending">姓名
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">账号
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">邮箱
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">收益率
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">创建时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="user_manager_table_tbody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div hidden class="row" style="margin:30px -35px;" id="user_wallet_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAddWalletDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增钱包</a>
                    </div>
                    <div class="card-body">
                        <div id="user_wallet_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="user_wallet_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Position: activate to sort column ascending">钱包地址
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Position: activate to sort column ascending">创建时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Position: activate to sort column ascending">最新修改时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作</th>
                                        </tr>
                                        </thead>
                                        <tbody id="user_wallet_table_tbody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div hidden class="row" style="margin:30px -35px;" id="son_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAddSonDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增子用户</a>
                    </div>
                    <div class="card-body">
                        <div id="son_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="son_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Position: activate to sort column ascending">姓名
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">账号
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">邮箱
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">创建时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="son_table_tbody">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div hidden class="content-wrapper" id="param_set_page">
        <div class="row" style="margin:-20px -35px;" >
            <div class="col-md-12">
                <div class="card">

                        <div class="panel panel-default" style="margin:-10px -10px;">
                            <div class="panel-body">
                                <ul class="nav nav-tabs">
                                    <li class=""><a href="#global_pass" data-toggle="tab" aria-expanded="false"><b>全局密码</b></a>
                                    </li>
                                    <li class=""><a href="#top_miners" data-toggle="tab" aria-expanded="false"><b>矿池监控</b></a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div class="tab-pane fade active in" id="global_pass">
                                        <div class="panel-body" style="margin-top:5px;width:20%;">
                                            <div class="card-body">
                                                <form class="form-horizontal">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3">密码</label>
                                                        <div class="col-md-8">
                                                            <input class="form-control" type="password" placeholder="新全局密码" style="width:300px;">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3">管理员密码</label>
                                                        <div class="col-md-8">
                                                            <input class="form-control col-md-8" type="password" placeholder="当前账号登陆密码" style="width:300px;">
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="card-footer">
                                                <div class="row">
                                                    <div class="col-md-8 col-md-offset-3">
                                                        <button class="btn btn-primary icon-btn" type="button"><i class="fa fa-fw fa-lg fa-check-circle"></i>确定</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="top_miners">
                                        <div class="panel-body" style="margin-top:5px;width:20%;">
                                            <div class="card-body">

                                                <form class="form-horizontal" id="topset">

                                                </form>
                                            </div>
                                            <div class="card-footer">
                                                <div class="row">
                                                    <div class="col-md-8 col-md-offset-3">
                                                        <button class="btn btn-primary icon-btn" onclick="updateColor()" type="button"><i class="fa fa-fw fa-lg fa-check-circle"></i>确定</button>
                                                        <button class="btn btn-primary icon-btn" onclick="colorAdd()" type="button"><i class="fa fa-fw fa-lg fa-check-circle"></i>添加</button>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div hidden class="content-wrapper" id="contract_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">合约管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="contract_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAddContractDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增合约</a>
                    </div>
                    <div class="card-body">
                        <div id="contract_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="contract_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">合约名称
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">用户名
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">模式
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">配置信息
                                            </th>
                                            <!--<th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"-->
                                                <!--colspan="1" aria-label="Age: activate to sort column ascending">合约算力(G)-->
                                            <!--</th>-->
                                            <!--<th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"-->
                                                <!--colspan="1" aria-label="Start date: activate to sort column ascending">已使用算力(G)-->
                                            <!--</th>-->
                                            <!--<th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"-->
                                                <!--colspan="1" aria-label="Start date: activate to sort column ascending">剩余算力(G)-->
                                            <!--</th>-->
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">签约时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">合约时长
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="contract_manager_table_tbody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <div hidden class="content-wrapper" id="worklist_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">工单管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="worklist_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div id="worklist_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="worklist_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">用户名
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">合约名称
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">总算力(G)
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">剩余算力(G)
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">本次激活算力(G)
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">提交时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">通过时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">未审批通过原因
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作</th>
                                        </tr>
                                        </thead>
                                        <tbody id="worklist_manager_table_tbody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div hidden class="content-wrapper" id="notice_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">公告管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="notice_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAddNoticeDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增公告</a>
                    </div>
                    <div class="card-body">
                        <div id="notice_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="notice_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">标题
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">简介
                                            </th>
                                            <th hidden class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">内容
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">分类
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">权重
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">创建时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="notice_manager_table_tbody">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div hidden class="content-wrapper" id="question_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">常见问题管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="question_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <a id="btnAddQuestionDialog" class="btn btn-primary icon-btn mr-10" href="javascript:;" style="margin-bottom:15px;float:right;"><i class="fa fa-file"></i>新增问题</a>
                    </div>
                    <div class="card-body">
                        <div id="question_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="question_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">问题
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">简述
                                            </th>
                                            <th hidden class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">详情
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">分类
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Start date: activate to sort column ascending">创建时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Salary: activate to sort column ascending">操作
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="question_manager_table_tbody">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div hidden class="content-wrapper" id="msgboard_page">
        <div class="page-title" style="margin:-25px -20px;">
            <div>
                <h1><i class="fa fa-dashboard"></i><span><a href="#">留言管理</a></span></h1>
            </div>
            <div>
                <ul class="breadcrumb">
                    <li><i class="fa fa-home fa-lg"></i></li>
                    <li><a href="/html/index.html">概况</a></li>
                </ul>
            </div>
        </div>
        <div class="row" style="margin:30px -35px;" id="msgboard_manager">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div id="msgboard_manager_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="msgboard_manager_table"
                                           role="grid" aria-describedby="sampleTable_info">
                                        <thead >
                                        <tr role="row">
                                            <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-sort="ascending"
                                                aria-label="id: activate to sort column descending">ID
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">用户名
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">用户评论
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">状态
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Office: activate to sort column ascending">评论时间
                                            </th>
                                            <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                colspan="1" aria-label="Age: activate to sort column ascending">操作
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody id="msgboard_manager_table_tbody">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Javascripts-->
<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/pace.min.js"></script>
<script src="js/main.js"></script>
<script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="js/dataTables.bootstrap.min.js"></script>

<script src="js/colpick.js"></script>

<script src="js/summernote.js"></script>
<script src="js/summernote-zh-CN.js"></script>

<div id="dialogBg"></div>
<div id="dialog" class="animated">
    <img class="dialogIco" width="50" height="50" src="images/ico.png" alt="" />
    <div class="dialogTop">
        <a href="javascript:;" class="claseDialogBtn">关闭</a>
    </div>
    <form hidden action="" method="post" id="user_add_form">
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">姓名：</span><input type="text" name="" required value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">账号：</span><input type="text" name="" required value="" class="ipt" /></li>
            <li><span style="color:red;">&nbsp; </span><span style="color:#000000;">邮箱：</span><input type="text" name="" required value="" class="ipt" /></li>
            <li><input type="submit" value="确认提交" class="submitBtn" /></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="wallet_add_form">
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">钱包地址：</span><input type="text" name="" required value="" class="ipt" /></li>
            <li><input type="submit" value="确认提交" class="submitBtn" /></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="son_add_form">
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">钱包地址：</span><input type="text" name="" required value="" class="ipt" /></li>
            <li><input type="submit" value="确认提交" class="submitBtn" /></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="user_update_form">
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">姓名：</span><input type="text" name="name" required value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">账号：</span><input type="text" name="account" required value="" class="ipt" /></li>
            <li><span style="color:red;">&nbsp; </span><span style="color:#000000;">邮箱：</span><input type="text" name="email" value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">状态：</span>
                <select id="select_user_state" class="ipt">
                    <option>正常</option>
                    <option>冻结</option>
                </select>
            </li>
            <li><span style="color:red;">* </span><span style="color:#000000;">利率：</span><input type="text" name="rate" required value="" class="ipt" /></li>
            <li><input type="submit" value="确认提交" class="submitBtn" /></li>
            <input type="hidden" id="hidSearch" />
        </ul>
    </form>

    <form hidden action="" method="post" id="contract_add_form">
        <ul class="editInfos" id="conSearch">
            <li><span style="color:red;">* </span><span style="color:#000000;">姓名：</span><input type="text" name="name" id="user_name" required value="" class="ipt" />
                <input type="button" value="搜索" id="btnSearch" class="submitBtn" /></li>
        </ul>
        <div class="card-body">
            <div id="user_list_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                <div class="row">
                    <div class="col-sm-12" >
                        <table hidden class="table table-hover table-bordered dataTable no-footer" id="user_list_table"
                               role="grid" aria-describedby="sampleTable_info">
                            <thead >
                            <tr role="row">
                                <th class="sorting_asc" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1" aria-sort="ascending">ID
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">姓名
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">账号
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">邮箱
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">状态
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">收益率
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1" colspan="1">创建时间
                                </th>
                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                    colspan="1">操作</th>
                            </tr>
                            </thead>
                            <tbody id="user_list_table_tbody">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">客户名称：</span><input type="text" name="name" id="c_user_name" required value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">合约名称：</span><input type="text" name="con_name" id="c_con_name" required value="" class="ipt" /></li>
            <li style="margin-left:-8px;"><span style="color:red;">* </span><span style="color:#000000;">合约类型：</span>
                <label for="radio_pow" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="pow" id="radio_pow" value="算力" onchange="ConTypeChange(1)"/> 算力
                    <span class="radio-on"></span>
                </label>
                <label for="radio_machine" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="machine" id="radio_machine" value="算力" onchange="ConTypeChange(2)"/> 机器
                    <span class="radio-on"></span>
                </label>
            </li>
            <li><span style="color:red;">* </span><span style="color:#000000;">合约期限：</span>
                <select class="ipt" id="c_con_long">
                    <option>1个月</option>
                    <option>3个月</option>
                    <option>半年</option>
                    <option>一年</option>
                </select>
            </li>
            <li hidden id="config_pow">
                <span style="color:red;">* </span><span style="color:#000000;">合约算力：</span><input type="text" name="pow" id="c_pow" value="" class="ipt" />
            </li>
            <li hidden id="config_machine">
                <span style="color:red;margin-left:-255px;">* </span><span style="color:#000000;">机器类型：</span>
                <div id="machine_temps">
                    <!--<div class='checkbox' style="margin-left:400px;">-->
                        <!--<input type='checkbox' id='AC250' name='checkboox[]'>-->
                        <!--<label for='AC250'>AC250</label>-->
                        <!--<span style="color:red;margin-left:-130px;">* </span>-->
                        <!--<span>数量</span>-->
                        <!--<input type="text" id="txtAC250" value="0" style="border:1px solid #ccc;border-radius:0.3em;width:70px;margin-left:20px;"/>-->
                    <!--</div>-->
                    <!--<div class='checkbox' style="margin-left:400px;">-->
                        <!--<input type='checkbox' id='FG330' name='checkboox[]'>-->
                        <!--<label for='FG330'>FG330</label>-->
                        <!--<span style="color:red;margin-left:-130px;">* </span>-->
                        <!--<span>数量</span>-->
                        <!--<input type="text" id="txtFG330" value="0" style="border:1px solid #ccc;border-radius:0.3em;width:70px;margin-left:20px;"/>-->
                    <!--</div>-->
                    <!--<div class='checkbox' style="margin-left:400px;">-->
                        <!--<input type='checkbox' id='CI220' name='checkboox[]' checked>-->
                        <!--<label for='CI220'>CI220</label>-->
                        <!--<span style="color:red;margin-left:-130px;">* </span>-->
                        <!--<span>数量</span>-->
                        <!--<input type="text" id="txtCI220" value="0" style="border:1px solid #ccc;border-radius:0.3em;width:70px;margin-left:20px;"/>-->
                    <!--</div>-->
                </div>

            </li>
            <li><input type="button" value="确认提交" class="submitBtn" id="btnAddCon"/></li>
        </ul>
    </form>

    <!--<form hidden action="" method="post" id="contract_update_form">-->
        <!--<ul class="editInfos">-->
            <!--<li><span style="color:red;">* </span><span style="color:#000000;">客户名称：</span><input type="text" disabled="disabled" name="name" id="cu_user_name" required value="" class="ipt" /></li>-->
            <!--<li><span style="color:red;">* </span><span style="color:#000000;">合约名称：</span><input type="text" name="con_name" id="cu_con_name" value="" class="ipt" /></li>-->
            <!--<li><span style="color:red;">* </span><span style="color:#000000;">合约算力：</span><input type="text" name="pow" id="cu_pow" value="" class="ipt" /></li>-->
            <!--<li><span style="color:red;">* </span><span style="color:#000000;">合约期限：</span>-->
                <!--<select class="ipt" id="cu_con_long">-->
                    <!--<option>1个月</option>-->
                    <!--<option>3个月</option>-->
                    <!--<option>半年</option>-->
                    <!--<option>一年</option>-->
                <!--</select>-->
            <!--</li>-->
            <!--<input type="hidden" id="hidConID" />-->
            <!--<li><input type="button" value="确认提交" class="submitBtn" id="btnUpdateCon"/></li>-->
        <!--</ul>-->
    <!--</form>-->

    <form hidden action="" method="post" id="worklist_state_update_form">
        <ul class="editInfos">
            <li><span style="color:red;">* </span><span style="color:#000000;">客户名称：</span><input type="text" disabled="disabled" name="name" id="w_user_name" required value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">合约名称：</span><input type="text" disabled="disabled" name="con_name" id="w_con_name" value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">总&nbsp;&nbsp;&nbsp;算&nbsp;&nbsp;力：</span><input type="text" disabled="disabled" name="pow" id="w_pow" value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">剩余算力：</span><input type="text" disabled="disabled" name="pow" id="w_remain" value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">激活算力：</span><input type="text" disabled="disabled" name="pow" id="w_active_pow" value="" class="ipt" /></li>
            <li><span style="color:red;">* </span><span style="color:#000000;">工单状态：</span>
                <select class="ipt" id="w_worklist_state" onchange="WorklistStateChange(this.value)">
                    <option>待审批</option>
                    <option>审批通过</option>
                    <option>未审批通过</option>
                </select>
            </li>
            <li hidden id="li_reason"><span style="color:#000000;">未通过原因：</span>
                <textarea rows="10" cols="30" class="ipt" id="w_reason"> </textarea></li>
            <input type="hidden" id="hidWorklistID" />
            <li><input type="button"  value="确认提交" class="submitBtn" id="btnUpdateWorklistState"/></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="notice_add_form">
        <ul style="margin-left:80px;">
            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">标题：</span><input type="text" name="name" id="notice_add_title" required value="" class="ipt"/>
                <span style="color:red;margin-left:200px;">* </span><span style="color:#000000;">权重：</span><input type="text" name="name" id="notice_add_weight" required value="" class="ipt" />
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">分类：</span>
                <label for="radio_important" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_important" id="radio_important" value="重要公告" onchange="NoticeTypeChange(1)"/> 重要公告
                    <span class="radio-on"></span>
                </label>
                <label for="radio_ordinary" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_ordinary" checked id="radio_ordinary" value="普通公告" onchange="NoticeTypeChange(2)"/> 普通公告
                    <span class="radio-on"></span>
                </label>


                <span style="color:red;margin-left:267px;">* </span><span style="color:#000000;">状态：</span>
                <label for="radio_notice_publish" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_notice_publish" checked id="radio_notice_publish" value="已发布" onchange="NoticeStateChange(1)"/> 已发布
                    <span class="radio-on"></span>
                </label>
                <label for="radio_notice_saved" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_notice_saved" id="radio_notice_saved" value="已保存" onchange="NoticeStateChange(2)"/> 已保存
                    <span class="radio-on"></span>
                </label>
                <label for="radio_notice_deleted" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_notice_deleted" id="radio_notice_deleted" value="已保存" onchange="NoticeStateChange(3)"/> 已删除
                    <span class="radio-on"></span>
                </label>
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">简介：</span>
                <textarea rows="5" cols="230" id="notice_add_brief" style="margin-right:80px;border:1px solid #ccc;border-radius: 0.3em;"> </textarea>
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">内容：</span>
                <div style="width: 1635px; ">
                    <div class="summernote" id="notice_add_content" style=""></div>
                </div>
            </li>
            <li style="margin-top:20px;"><input type="button" value="确认提交" class="submitBtn" id="btnNotice"/></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="question_add_form">
        <ul style="margin-left:80px;">
            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">问题：</span><input type="text" name="name" id="question_add_title" required value="" class="ipt"/>
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">分类：</span>
                <label for="radio_question_parameter" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_parameter" checked id="radio_question_parameter" value="矿机参数篇" onchange="QuestionTypeChange(1)"/> 矿机参数篇
                    <span class="radio-on"></span>
                </label>
                <label for="radio_question_function" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_function" id="radio_question_function" value="定制化功能" onchange="QuestionTypeChange(2)"/> 定制化功能
                    <span class="radio-on"></span>
                </label>
                <label for="radio_question_set" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_set" id="radio_question_set" value="挖矿设置篇" onchange="QuestionTypeChange(3)"/> 挖矿设置篇
                    <span class="radio-on"></span>
                </label>


                <span style="color:red;margin-left:267px;">* </span><span style="color:#000000;">状态：</span>
                <label for="radio_question_publish" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_publish" checked id="radio_question_publish" value="已发布" onchange="QuestionStateChange(1)"/> 已发布
                    <span class="radio-on"></span>
                </label>
                <label for="radio_question_saved" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_saved" id="radio_question_saved" value="已保存" onchange="QuestionStateChange(2)"/> 已保存
                    <span class="radio-on"></span>
                </label>
                <label for="radio_question_deleted" class="radio">
                    <span class="radio-bg"></span>
                    <input type="radio" name="radio_question_deleted" id="radio_question_deleted" value="已保存" onchange="QuestionStateChange(3)"/> 已删除
                    <span class="radio-on"></span>
                </label>
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">简述：</span>
                <textarea rows="5" cols="230" id="question_add_brief" style="margin-right:80px;border:1px solid #ccc;border-radius: 0.3em;"> </textarea>
            </li>

            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">详情：</span>
                <div style="width: 1635px; ">
                    <div class="summernote" id="question_add_content" style=""></div>
                </div>
            </li>
            <li style="margin-top:20px;"><input type="button" value="确认提交" class="submitBtn" id="btnQuestion"/></li>
        </ul>
    </form>

    <form hidden action="" method="post" id="reply_add_form">
        <ul style="margin-left:80px;">
            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;" id="msgboard_user"></span>
                <textarea rows="5" cols="230" id="msgboard_add_content" style="margin-right:80px;border:1px solid #ccc;border-radius: 0.3em;"> </textarea>
            </li>
            <li style="margin-top:20px;">
                <span style="color:red;">* </span><span style="color:#000000;">我的回复：</span>
                <div style="width: 1635px; ">
                    <div class="summernote" id="reply_add_content" style=""></div>
                </div>
            </li>
            <li style="margin-top:20px;"><input type="button" value="确认提交" class="submitBtn" id="btnMsgboard"/></li>
        </ul>
    </form>

</div>

<input type="hidden" id="hidNoticeFlag" value=0 />
<input type="hidden" id="hidQuestionFlag" value=0 />
<input type="hidden" id="hidMsgboardId" value=0 />

<script type="text/javascript">
    $('.summernote').summernote({
        height: 420,
        tabsize: 2,
        disableDragAndDrop: false,
        lang: 'zh-CN'
    });

    function getParam(paramName) {
        paramValue = "", isFound = !1;
        if (this.location.search.indexOf("?") == 0 && this.location.search.indexOf("=") > 1) {
            arrSource = unescape(this.location.search).substring(1, this.location.search.length).split("&"), i = 0;
            while (i < arrSource.length && !isFound) arrSource[i].indexOf("=") > 0 && arrSource[i].split("=")[0].toLowerCase() == paramName.toLowerCase() && (paramValue = arrSource[i].split("=")[1], isFound = !0), i++
        }
        return paramValue == "" && (paramValue = null), paramValue
    }

    var token = getParam("Authorization");

    var w,h;
    function getSrceenWH(){
        w = $(window).width();
        h = $(window).height();
        $('#dialogBg').width(w).height(h);
    }

    window.onresize = function(){
        getSrceenWH();
    }
    $(window).resize();

    getSrceenWH();

    function ConTypeChange(obj){
        if(obj == 1){//算力
            $("#radio_pow").attr("checked","checked");
            $("#radio_machine").removeAttr("checked");

            $("#config_machine").hide();
            $("#config_pow").show();
        }else if(obj == 2){//机器
            $("#config_pow").hide();
            $("#config_machine").show();
            $("#radio_machine").attr("checked","checked");
            $("#radio_pow").removeAttr("checked");

        }
    }

    function NoticeTypeChange(obj){
        if(obj == 1){//重要公告
            $("#radio_important").attr("checked","checked");
            $("#radio_ordinary").removeAttr("checked");
        }else if(obj == 2){//一般公告
            $("#radio_ordinary").attr("checked","checked");
            $("#radio_important").removeAttr("checked");
        }
    }

    function QuestionTypeChange(obj){
        if(obj == 1){
            $("#radio_question_parameter").attr("checked","checked");
            $("#radio_question_function").removeAttr("checked");
            $("#radio_question_set").removeAttr("checked");
        }else if(obj == 2){
            $("#radio_question_function").attr("checked","checked");
            $("#radio_question_parameter").removeAttr("checked");
            $("#radio_question_set").removeAttr("checked");
        }else{
            $("#radio_question_set").attr("checked","checked");
            $("#radio_question_parameter").removeAttr("checked");
            $("#radio_question_function").removeAttr("checked");
        }
    }

    function NoticeStateChange(obj){
        if(obj == 1){
            $("#radio_notice_publish").attr("checked","checked");
            $("#radio_notice_saved").removeAttr("checked");
            $("#radio_notice_deleted").removeAttr("checked");
        }else if(obj == 2){
            $("#radio_notice_saved").attr("checked","checked");
            $("#radio_notice_publish").removeAttr("checked");
            $("#radio_notice_deleted").removeAttr("checked");
        }else if(obj == 3){
            $("#radio_notice_deleted").attr("checked","checked");
            $("#radio_notice_publish").removeAttr("checked");
            $("#radio_notice_saved").removeAttr("checked");
        }
    }

    function QuestionStateChange(obj){
        if(obj == 1){
            $("#radio_question_publish").attr("checked","checked");
            $("#radio_question_saved").removeAttr("checked");
            $("#radio_question_deleted").removeAttr("checked");
        }else if(obj == 2){
            $("#radio_question_publish").removeAttr("checked");
            $("#radio_question_saved").attr("checked","checked");
            $("#radio_question_deleted").removeAttr("checked");
        }else if(obj == 3){
            $("#radio_question_publish").removeAttr("checked");
            $("#radio_question_saved").removeAttr("checked");
            $("#radio_question_deleted").attr("checked","checked");
        }
    }

    function closeDialog(){
        $('#dialogBg').fadeOut(100,function(){
            $('#dialog').addClass('bounceOutUp').fadeOut();
            $("#user_list_table").hide();
        });
    }

    function dialogHide(){
        $("#wallet_add_form").hide();
        $("#user_update_form").hide();
        $("#user_add_form").hide();
        $("#son_add_form").hide();
        $("#contract_add_form").hide();
//        $("#contract_update_form").hide();
        $("#worklist_state_update_form").hide();
        $("#notice_add_form").hide();
        $("#question_add_form").hide();

    }

    function showChart(label,title,data){
        Highcharts.chart(label, {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            credits: {
                enabled: false,
            },//版权信息
            exporting: {
                enabled: false
            },
            title: {
                text: title
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        }
                    }
                }
            },
            series: data,
        });
    }

    function BasicPageInit(){
        $.getJSON("/ams/basic?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var data = [{name:"工单",
                            colorByPoint:true,
                            data: [{
                                name: '待审批 ' + json.approve_count,
                                y: json.approve_count,
                                sliced: true,
                                selected: true
                            }, {
                                name: '审批通过 ' + json.pass_count,
                                y: json.pass_count,
                            }, {
                                name: '未审批通过 ' + json.not_pass,
                                y: json.not_pass,
                            }]
                    }]
                showChart('container-work',"工单统计",data);
                showChart('container-work1',"工单统计",data);
            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

    BasicPageInit();

    $("#dialog").css("position","absolute");
    $("#dialog").css("left","50%");
    $("#dialog").css("top","50%");

    function WorklistStateChange(obj){
        if(obj == "未审批通过"){
            $("#li_reason").show();
        }else{
            $("#li_reason").hide();
        }
    }

    $("#btnUpdateWorklistState").click(function(){
        var s = $("#w_worklist_state").val();
        var id = $("#hidWorklistID").val();
        var reason = $("#w_reason").val();

        var state = 1;
        if(s == "待审批"){
            state = 1;
        }else if(s == "审批通过"){
            state = 2;
            alert("已审批通过，无需再次审批");
            closeDialog();
            return
        }else if(s == "未审批通过"){
            state = 3;
        }

        if(state == 3 && reason.length == 0){
            alert("未审批通过时，原因不能未空");
            return
        }

        var url = "/ams/worklist/approve?Authorization="+token+"&id="+id+"&state="+state+"&reason="+reason;
        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                alert("修改成功");
            }else{
                alert("修改失败");
            }
            closeDialog();
        });
    });

    //显示弹框
    $('#btnAddUserDialog').click(function(){
        dialogHide();
        $("#user_add_form").show();

        $("#dialog").css("width","320px");
        $("#dialog").css("height","240px");
        $(".ipt").css("width","200px");

        $("#dialog").css("margin","-120px 0 0 -160px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    });

    $('#btnAutoAddUser').click(function(){
        var url = "/ams/user/autocreate?Authorization="+token;

        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                alert("新增用户成功")
            }else{
                toastr.warning("获取机器模板失败!!!");
            }
        });
    });

    $('#btnAddWalletDialog').click(function(){
        dialogHide();
        $("#wallet_add_form").show();

        $("#dialog").css("width","400px");
        $("#dialog").css("height","160px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-80px 0 0 -200px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    });

    $('#btnAddSonDialog').click(function(){
        dialogHide();
        $("#son_add_form").show();

        $("#dialog").css("width","400px");
        $("#dialog").css("height","160px");
        $(".ipt").css("width","250px");


        $("#dialog").css("margin","-80px 0 0 -200px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    });

    $('#btnAddContractDialog').click(function(){
        dialogHide();
        $("#conSearch").show();
        $("#contract_add_form").show();

        $("#dialog").css("width","1064px");
        $("#dialog").css("height","900px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-450px 0 0 -532px");

        var url = "/ams/templete?Authorization="+token;

        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                var tempStr = "";
                for(var i = 0 ; i < json.templetes.length ; i++){
                    tempStr += "<div class='checkbox' style='margin-left:400px;'>";
                    tempStr += "<input type='checkbox' id='" + json.templetes[i].name + "' name='checkboox[]' checked>";
                    tempStr += "<label for='" + json.templetes[i].name + "'>" + json.templetes[i].name + "</label>";
                    tempStr += "<span style='color:red;margin-left:-130px;'>* </span>";
                    tempStr += "<span>数量</span>";
                    tempStr += "<input type='text' id='txt" + json.templetes[i].name + "' value='0' style='border:1px solid #ccc;border-radius:0.3em;width:70px;margin-left:20px;'/>";
                    tempStr += "</div>";
                }

                $("#machine_temps").html(tempStr);
            }else{
                toastr.warning("获取机器模板失败!!!");
            }
        });

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    });

    function NoticeDialog(id){
        dialogHide();
        $("#notice_add_form").show();

        $("#dialog").css("width","1800px");
        $("#dialog").css("height","900px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-450px 0 0 -900px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();

        $("#hidNoticeFlag").val(0);

        if(id > 0){
            $("#hidNoticeFlag").val(id);

            $.getJSON("/ams/notice?Authorization="+token+"&id="+id, function(json) {
                if(json.err_code == 0) {
                    $("#notice_add_title").val(json.data.title);
                    $("#notice_add_brief").val(json.data.brief);
                    $("#notice_add_weight").val(json.data.weight);

                    $("#notice_add_content").summernote("code",json.data.content)

                    var state = json.data.state;
                    if(state == 1){
                        NoticeStateChange(1);
                    }else if(state == 2){
                        NoticeStateChange(2);
                    }else if(state == 3){
                        NoticeStateChange(3);
                    }

                    var category = json.data.category;
                    if(category == 1){
                        NoticeTypeChange(1);
                    }else{
                        NoticeTypeChange(2);
                    }
                }else{
                    toastr.warning("获取公告列表失败!!!");
                }
            });
        }
    }

    $('#btnAddNoticeDialog').click(function(){
        NoticeDialog(0)
    });

    function QuestionDialog(id){
        dialogHide();
        $("#question_add_form").show();

        $("#dialog").css("width","1800px");
        $("#dialog").css("height","900px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-450px 0 0 -900px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();

        $("#hidQuestionFlag").val(0);

        if(id > 0){
            $("#hidQuestionFlag").val(id);

            $.getJSON("/ams/question?Authorization="+token+"&id="+id, function(json) {
                if(json.err_code == 0) {
                    $("#question_add_title").val(json.data.question);
                    $("#question_add_brief").val(json.data.brief);

                    $("#question_add_content").summernote("code",json.data.answer)

                    var state = json.data.state;
                    if(state == 1){
                        QuestionStateChange(1);
                    }else if(state == 2){
                        QuestionStateChange(2);
                    }else if(state == 3){
                        QuestionStateChange(3);
                    }

                    var category = json.data.type;
                    if(category == 1){
                        QuestionTypeChange(1);
                    }else if(category == 2){
                        QuestionTypeChange(2);
                    }else{
                        QuestionTypeChange(3);
                    }
                }else{
                    toastr.warning("获取公告列表失败!!!");
                }
            });
        }
    }

    $('#btnAddQuestionDialog').click(function(){
        QuestionDialog(0)
    });

    //关闭弹窗
    $('.claseDialogBtn').click(function(){
        $("#config_machine").hide();
        $("#config_pow").hide();
        $("#radio_pow").removeAttr("checked");
        $("#radio_machine").removeAttr("checked");


        $('#dialogBg').fadeOut(100,function(){
            $('#dialog').addClass('bounceOutUp').fadeOut();
            $("#user_list_table").hide();
            $("#user_list_table_tbody").html("");
        });
    });

    $("#btnSearch").click(function(){
        var name = $("#user_name").val();
        if(name.length == 0){
            alert("请输入客户名称");
            return
        }
        $.getJSON("/ams/user/search?Authorization="+token+"&name="+name, function(json) {
            $("#user_list_table").show();
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";
                    if(json.data[i].state == 1){
                        state = "正常"
                    }else if(json.data[i].state == 2){
                        state = "冻结"
                    }
                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].name + "</td>";
                    tbody += "<td>" + json.data[i].account + "</td>";
                    tbody += "<td>" + json.data[i].email + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + json.data[i].rate + "</td>";
                    tbody += "<td>" + json.data[i].created_at.substr(0,10) + "</td>";
                    tbody += "<td><a href='#' onclick='SelectUser(this)'>选择</a></td>";
                    tbody += "</tr>";
                }

                $("#user_list_table_tbody").html(tbody);

                var table = $('#user_list_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 5,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();

            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    });

    function SelectUser(obj){
        var node = $(obj).parent().prev().prev().prev().prev().prev().prev();
        var user_name = node.text();
        var user_id = node.prev().text();
        $("#c_user_name").val(user_name);
        $("#hidSearch").val(user_id);
    }

    $("#btnAddCon").click(function () {
        var user_id = $("#hidSearch").val();
        var con_name = $("#c_con_name").val();
        var type  = 0;
        if($("#radio_pow").is(":checked")){
            type = 1;
        }else if($("#radio_machine").is(":checked")){
            type = 2;
        }

        var con_pow = $("#c_pow").val();
        var con_long = $("#c_con_long").val();

        if(type == 1){
            if(con_pow.length == 0){
                alert("必填项不能为空")
                return
            }
        }else {
            if(user_id.length == 0 || con_name.length == 0 || con_long.length == 0){
                alert("必填项不能为空")
                return
            }
        }

        var ll = 0;
        if(con_long == "1个月"){
            ll = 1;
        }else if(con_long == "3个月"){
            ll = 3;
        }else if(con_long == "半年"){
            ll = 6;
        }else if(con_long == "一年"){
            ll = 12;
        }

        var config = "{";
        if(type == 1){
            config += "'pow':" + con_pow + ",'remain':" + con_pow + ",'use':0";
        }else if(type == 2){
            config += "'machine':["
            for(var j = 0 ; j < $("#machine_temps div[class=checkbox]").length ; j++){
                var base = $("#machine_temps div[class=checkbox]").eq(j).children().last();
                var id = base.attr("id");
                id = id.replace("txt","");
                var count = base.val();

                if(count > 0){
                    config += "{'type':'" + id + "','count':" + count + "},"
                }
            }
            if(config[config.length - 1] == ","){
                config = config.slice(0,config.length - 1)
            }
            config += "]";
        }

        config += "}";
        alert(config);

        var url = "/ams/contract/add?Authorization="+token+"&user_id="+user_id+"&con_name="+con_name+"&type="+type+"&con_long="+ll+"&config="+config;

        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                alert("合约添加成功")

                $("#config_machine").hide();
                $("#config_pow").hide();
                $("#radio_pow").removeAttr("checked");
                $("#radio_machine").removeAttr("checked");

                $('#dialogBg').fadeOut(100,function(){
                    $('#dialog').addClass('bounceOutUp').fadeOut();
                });
            }else{
                toastr.warning("获取用户列表失败!!!");

                $("#config_machine").hide();
                $("#config_pow").hide();
                $("#radio_pow").removeAttr("checked");
                $("#radio_machine").removeAttr("checked");

                $('#dialogBg').fadeOut(100,function(){
                    $('#dialog').addClass('bounceOutUp').fadeOut();
                });
            }
        });

        $("#user_list_table_tbody").html();


    });

    function replaceAll(str,a1,a2){
        if(str.indexOf(a1) < 0){
            return str;
        }
        var re = new RegExp(a1,"g"); //定义正则表达式
        var Newstr = str.replace(re, a2); //第一个参数是正则表达式。
        return Newstr;
    }

    $("#btnNotice").click(function () {
        var title = $("#notice_add_title").val();
        var weight = $("#notice_add_weight").val();
        var type  = 0;
        if($("#radio_important").is(":checked")){
            type = 1;
        }else if($("#radio_ordinary").is(":checked")){
            type = 2;
        }

        var state  = 0;
        if($("#radio_notice_publish").is(":checked")){
            state = 1;
        }else if($("#radio_notice_saved").is(":checked")){
            state = 2;
        }else if($("#radio_notice_deleted").is(":checked")){
            state = 3;
        }

        var brief = $("#notice_add_brief").val();
        var content = $("#notice_add_content").summernote("code");


        if(title.length == 0 || weight.length == 0 || type == 0 || state == 0 || brief.length == 0 || content.length == 0){
            alert("必填项不能为空");
            return
        }

        brief = replaceAll(brief,"\"","&quot;");

        brief = replaceAll(brief,"\'","&acute;");
        brief = replaceAll(brief,"\\t","&nbsp;&nbsp;&nbsp;&nbsp;");

        content = replaceAll(content,"\"","&quot;");

        content = replaceAll(content,"\'","&acute;");
        content = replaceAll(content,"\\t","&nbsp;&nbsp;&nbsp;&nbsp;");

        var url = "";
        var id = $("#hidNoticeFlag").val();
        if(id == 0){
            url = "/ams/notice/add";
        }else{
            url = "/ams/notice/update";
        }
        var data = "{\"Authorization\":\"" + token + "\",\"id\":" + id + ",\"title\":\"" + title + "\",\"weight\":" + weight + ",\"type\":" + type + ",\"state\":" + state + ",\"brief\":\"" + brief + "\",\"content\":\"" + content + "\"}";

        $.ajax({
            url:url,
            contentType:"application/json",
            dataType:"json",
            type:"POST",
            data:data,
            success:function(json){
                if(json.err_code == 0) {
                    if($("#hidNoticeFlag").val() == "add"){
                        alert("新增公告成功")
                    }else{
                        alert("修改公告成功")
                    }

                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }else{
                    if($("#hidNoticeFlag").val() == "add"){
                        toastr.warning("新增公告失败!!!");
                    }else{
                        toastr.warning("修改公告失败!!!");
                    }

                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }
            }
        });
    });

    $("#btnQuestion").click(function () {
        var title = $("#question_add_title").val();
        var type  = 0;
        if($("#radio_question_parameter").is(":checked")){
            type = 1;
        }else if($("#radio_question_function").is(":checked")){
            type = 2;
        }else if($("#radio_question_set").is(":checked")){
            type = 3;
        }

        var state  = 0;
        if($("#radio_question_publish").is(":checked")){
            state = 1;
        }else if($("#radio_question_saved").is(":checked")){
            state = 2;
        }else if($("#radio_question_deleted").is(":checked")){
            state = 3;
        }

        var brief = $("#question_add_brief").val();
        var content = $("#question_add_content").summernote("code");


        if(title.length == 0 || type == 0 || state == 0 || brief.length == 0 || content.length == 0){
            alert("必填项不能为空");
            return
        }

        brief = replaceAll(brief,"\"","&quot;");

        brief = replaceAll(brief,"\'","&acute;");
        brief = replaceAll(brief,"\\t","&nbsp;&nbsp;&nbsp;&nbsp;");

        content = replaceAll(content,"\"","&quot;");

        content = replaceAll(content,"\'","&acute;");
        content = replaceAll(content,"\\t","&nbsp;&nbsp;&nbsp;&nbsp;");

        var url = "";
        var id = $("#hidQuestionFlag").val();
        if(id == 0){
            url = "/ams/question/add";
        }else{
            url = "/ams/question/update";
        }
        var data = "{\"Authorization\":\"" + token + "\",\"id\":" + id + ",\"title\":\"" + title + "\",\"type\":" + type + ",\"state\":" + state + ",\"brief\":\"" + brief + "\",\"content\":\"" + content + "\"}";

        $.ajax({
            url:url,
            contentType:"application/json",
            dataType:"json",
            type:"POST",
            data:data,
            success:function(json){
                if(json.err_code == 0) {
                    if($("#hidQuestionFlag").val() == "add"){
                        alert("新增常见问题成功")
                    }else{
                        alert("修改常见问题成功")
                    }

                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }else{
                    if($("#hidQuestionFlag").val() == "add"){
                        toastr.warning("新增常见问题失败!!!");
                    }else{
                        toastr.warning("修改常见问题失败!!!");
                    }

                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }
            }
        });
    });

    function hidePage() {
        $("#user_page").hide();
        $("#param_set_page").hide();
        $("#contract_page").hide();
        $("#worklist_page").hide();
        $("#basic_page").hide();
        $("#notice_page").hide();
        $("#question_page").hide();
        $("#msgboard_page").hide();
    }

    function QuestionPageInit(){
        $.getJSON("/ams/question/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";

                    if(json.data[i].state == 1){
                        state = "已发布";
                    }else if(json.data[i].state == 2){
                        state = "已保存";
                    }else if(json.data[i].state == 3){
                        state = "已封存";
                    }

                    var category = "";
                    if(json.data[i].type == 1){
                        category = "参数设置篇";
                    }else if(json.data[i].type == 2){
                        category = "定制化功能";
                    }else{
                        category = "矿机设置篇";
                    }

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].question + "</td>";
                    tbody += "<td>" + json.data[i].brief + "</td>";
                    tbody += "<td hidden>" + json.data[i].answer + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + category + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td><a href='#' onclick='QuestionDialog(" + json.data[i].id + ")'>编辑</a></td>";
                    tbody += "</tr>";
                }

                $("#question_manager_table_tbody").html(tbody);

                var table = $('#question_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取公告列表失败!!!");
            }
        });
    }

    function UpdateConDialog(obj){
        dialogHide();
        $("#contract_add_form").show();
        $("#conSearch").hide();

        $("#dialog").css("width","1064px");
        $("#dialog").css("height","700px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-350px 0 0 -532px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();

        var long = $(obj).parent().prev();
        $("#c_con_long").val(long.text());
        //var pow = long.prev().prev().prev().prev();
        //$("#c_pow").val(pow.text());
        var user_name = long.prev().prev().prev().prev();
        $("#c_user_name").val(user_name.text());
        var con_name = user_name.prev();
        $("#c_con_name").val(con_name.text());

        var conId = con_name.prev();
        $("#hidConID").val(conId.text());

        var url = "/ams/templete?Authorization="+token;

        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                var tempStr = "";
                for(var i = 0 ; i < json.templetes.length ; i++){
                    tempStr += "<div class='checkbox' style='margin-left:400px;'>";
                    tempStr += "<input type='checkbox' id='" + json.templetes[i].name + "' name='checkboox[]' checked>";
                    tempStr += "<label for='" + json.templetes[i].name + "'>" + json.templetes[i].name + "</label>";
                    tempStr += "<span style='color:red;margin-left:-130px;'>* </span>";
                    tempStr += "<span>数量</span>";
                    tempStr += "<input type='text' id='txt" + json.templetes[i].name + "' value='0' style='border:1px solid #ccc;border-radius:0.3em;width:70px;margin-left:20px;'/>";
                    tempStr += "</div>";
                }

                $("#machine_temps").html(tempStr);

                var pattern = user_name.next().text();
                var config = user_name.next().next().text();

                var cc = JSON.parse(config);

                if(pattern == "算力模式"){
                    $("#config_pow").show();
                    $("#c_pow").val(cc.pow);

                    $("#radio_pow").attr("checked","checked");
                    $("#radio_machine").removeAttr("checked");
                }else{
                    $("#config_machine").show();
                    for(var i = 0 ; i < cc.machine.length ; i++){
                        $("#txt"+cc.machine[i].name).val(cc.machine[i].num);
                    }
                    $("#radio_machine").attr("checked","checked");
                    $("#radio_pow").removeAttr("checked");
                }
            }else{
                toastr.warning("获取机器模板失败!!!");
            }
        });

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    }

    $("#btnUpdateCon").click(function(){
        var conName = $("#cu_con_name").val();
        var conLong = $("#cu_con_long").val();
        var conPow = $("#cu_pow").val();
        var id = $("#hidConID").val();
        var long = 0;
        if(conLong == "1个月"){
            long = 1;
        }else if(conLong == "3个月"){
            long = 3;
        }else if(conLong == "半年"){
            long = 6;
        }else if(conLong == "一年") {
            long = 12;
        }

        var url = "/ams/contract/update?Authorization="+token+"&id="+id+"&con_name="+conName+"&con_pow="+conPow+"&con_long="+long;

        $.getJSON(url, function(json) {
            if(json.err_code == 0) {
                alert("合约添加成功")
                $('#dialogBg').fadeOut(100,function(){
                    $('#dialog').addClass('bounceOutUp').fadeOut();
                });
            }else{
                toastr.warning("获取用户列表失败!!!");
                $('#dialogBg').fadeOut(100,function(){
                    $('#dialog').addClass('bounceOutUp').fadeOut();
                });
            }
        });
    });

    function WorklistPageInit(){
        $.getJSON("/ams/worklist/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";

                    if(json.data[i].state == 1){
                        state = "待审批";
                    }else if(json.data[i].state == 2){
                        state = "审批通过";
                    }else if(json.data[i].state == 3){
                        state = "未审批通过";
                    }

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].user_name + "</td>";
                    tbody += "<td>" + json.data[i].con_name + "</td>";
                    tbody += "<td>" + json.data[i].total_pow + "</td>";
                    tbody += "<td>" + json.data[i].remain_pow + "</td>";
                    tbody += "<td>" + json.data[i].pow + "</td>";
                    tbody += "<td>" + json.data[i].submit_date + "</td>";
                    tbody += "<td>" + json.data[i].pass_date + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + json.data[i].reason + "</td>";
                    tbody += "<td><a href='#' onclick='DialogApprove(this)'>审批</a></td>";
                    tbody += "</tr>";
                }

                $("#worklist_manager_table_tbody").html(tbody);

                var table = $('#worklist_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

    function NoticePageInit(){
        $.getJSON("/ams/notice/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";

                    if(json.data[i].state == 1){
                        state = "已发布";
                    }else if(json.data[i].state == 2){
                        state = "已保存";
                    }else if(json.data[i].state == 3){
                        state = "已封存";
                    }

                    var category = "";
                    if(json.data[i].category == 1){
                        category = "重要公告";
                    }else{
                        category = "一般公告";
                    }

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].title + "</td>";
                    tbody += "<td>" + json.data[i].brief + "</td>";
                    tbody += "<td hidden>" + json.data[i].content + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + category + "</td>";
                    tbody += "<td>" + json.data[i].weight + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td><a href='#' onclick='NoticeDialog(" + json.data[i].id + ")'>编辑</a></td>";
                    tbody += "</tr>";
                }

                $("#notice_manager_table_tbody").html(tbody);

                var table = $('#notice_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取公告列表失败!!!");
            }
        });
    }

    function DialogApprove(obj){
        dialogHide();
        $("#worklist_state_update_form").show();

        $("#dialog").css("width","1064px");
        $("#dialog").css("height","700px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-350px 0 0 -532px");

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();

        var base = $(obj).parent().prev().prev();
        $("#w_worklist_state").val(base.text());

        var w_active_pow = base.prev().prev().prev();
        $("#w_active_pow").val(w_active_pow.text() + "G");

        var w_remain = w_active_pow.prev();
        $("#w_remain").val(w_remain.text() + "G");

        var w_pow = w_remain.prev();
        $("#w_pow").val(w_pow.text() + "G");

        var w_con_name = w_pow.prev();
        $("#w_con_name").val(w_con_name.text());

        var w_user_name = w_con_name.prev();
        $("#w_user_name").val(w_user_name.text());

        var w_worklist_id = w_user_name.prev();
        $("#hidWorklistID").val(w_worklist_id.text());
    }

    function ContractPageInit(){
        $.getJSON("/ams/contract/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].con_name + "</td>";
                    tbody += "<td>" + json.data[i].user_name + "</td>";
                    var pattern = "";
                    if(json.data[i].pattern == 1){
                        pattern = "算力模式";
                    }else{
                        pattern = "机器模式";
                    }

                    var state = "未分配";
                    if(json.data[i].state == 1){
                        state = "已分配"
                    }

                    tbody += "<td>" + pattern + "</td>";

                    tbody += "<td>" + json.data[i].config + "</td>";
//                    tbody += "<td>" + json.data[i].pow + "</td>";
//                    tbody += "<td>" + json.data[i].use + "</td>";
//                    tbody += "<td>" + json.data[i].remain + "</td>";
                    tbody += "<td>" + json.data[i].sign_date + "</td>";
                    tbody += "<td>" + json.data[i].long + "个月</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td><a href='#' onclick='UpdateConDialog(this)'>修改</a><a style='margin-left:20px;' href='#' onclick='CreatePow(" + json.data[i].id + ")'>分配机器</a></td>";
                    tbody += "</tr>";
                }

                $("#contract_manager_table_tbody").html(tbody);

                var table = $('#contract_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

    function CreatePow(conId) {
        $.getJSON("/ams/contract/machine/create?Authorization="+token+"&con_id="+conId, function(json) {
            if(json.err_code == 0) {
                alert("机器分配成功");
            }else if(json.err_code == 1){
                alert(json.err_msg);

            }else{
                toastr.warning("分配机器失败，请稍后再试!!!");
            }
        });
    }

    UserPageInit();

    function ParamPageInit(){
        $.getJSON("/ams/set/top/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var topHtml = "";
                for(var i = 0 ; i < json.data.top.length ; i++ ){
                    if(json.data.top[i].name == "0x84A0d77c693aD"){
                        json.data.top[i].name = "cc";
                    }else if(json.data.top[i].name == "0x00192Fb10dF37"){
                        json.data.top[i].name = "2miner";
                    }else if(json.data.top[i].name == "0x35F61DFB08ada"){
                        json.data.top[i].name = "hpool";
                    }

                    topHtml += "<div class='form-group'>";
                    topHtml += "<label class='control-label col-md-3'>" + json.data.top[i].name + "</label>";
                    topHtml += "<div class='col-md-8'>";
                    topHtml += "<input class='form-control col-md-8 btnColor' type='text' placeholder='点击选择颜色值' style='width:300px;background-color:" + json.data.top[i].color + "' value='" + json.data.top[i].color + "'>";
                    topHtml += "</div></div>";
                }
                $("#topset").html(topHtml);

                $('.btnColor').colpick({

                    colorScheme:'dark',

                    layout:'rgbhex',

                    color:'ff8800',

                    onSubmit:function(hsb,hex,rgb,el) {
                        $(el).css('background-color', '#'+hex);
                        $(el).val('#' + hex);
                        $(el).colpickHide();

                    }

                })

            }else{
                toastr.warning("获取top设置信息失败");
            }
        });
    }

    function UserPageInit(){
        $.getJSON("/ams/user/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";
                    if(json.data[i].state == 1){
                        state = "正常"
                    }else if(json.data[i].state == 2){
                        state = "冻结"
                    }
                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].name + "</td>";
                    tbody += "<td>" + json.data[i].account + "</td>";
                    tbody += "<td>" + json.data[i].email + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + json.data[i].rate + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td><a href='#' onclick='GetWallets(" + json.data[i].id + ")'>管理钱包</a><a href='#' style='margin-left:10px;' onclick='GetSonUsers(" + json.data[i].id + ")'>子用户管理</a><a href='#' style='margin-left:10px;' onclick='UpdateUser(" + JSON.stringify(json.data[i]) + ")'>修改</a></td>";
                    tbody += "</tr>";
                }

                $("#user_manager_table_tbody").html(tbody);

                var table = $('#user_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "paging": true,
                    "retrieve": true,
                    "bInfo": true,//页脚信息
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

    function UpdateMsgboardState(id,state) {
        $.getJSON("/ams/msgboard/updtestate?Authorization="+token + "&id=" + id + "&state="+state, function(json) {
            if(json.err_code == 0) {
                alert("状态修改成功")
            }else{
                toastr.warning("状态修改失败!!!");
            }
        });
    }

    $("#btnMsgboard").click(function () {
        var id = $("#hidMsgboardId").val();
        var content = $("#reply_add_content").summernote("code");

        content = replaceAll(content,"\"","&quot;");

        content = replaceAll(content,"\'","&acute;");
        content = replaceAll(content,"\\t","&nbsp;&nbsp;&nbsp;&nbsp;");

//        $.getJSON("/ams/msgboard/reply/update?Authorization="+token+"&id="+id+"&content="+content, function(json) {
//            if(json.err_code == 0) {
//                alert("回复成功");
//                $('#dialogBg').fadeOut(100,function(){
//                    $('#dialog').addClass('bounceOutUp').fadeOut();
//                });
//            }else{
//                toastr.warning("获取公告列表失败!!!");
//                $('#dialogBg').fadeOut(100,function(){
//                    $('#dialog').addClass('bounceOutUp').fadeOut();
//                });
//            }
//        });

        var url = "/ams/msgboard/reply/update";
        var data = "{\"Authorization\":\"" + token + "\",\"id\":" + id + ",\"content\":\"" + content + "\"}";
        $.ajax({
            url:url,
            contentType:"application/json",
            dataType:"json",
            type:"POST",
            data:data,
            success:function(json){
                if(json.err_code == 0) {
                    alert("回复成功");
                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }else{
                    toastr.warning("获取公告列表失败!!!");
                    $('#dialogBg').fadeOut(100,function(){
                        $('#dialog').addClass('bounceOutUp').fadeOut();
                    });
                }
            }
        });
    });

    function SeeReplayDialog(id,user_name,content) {
        dialogHide();
        $("#reply_add_form").show();

        $("#hidMsgboardId").val(id);

        $("#dialog").css("width","1800px");
        $("#dialog").css("height","900px");
        $(".ipt").css("width","250px");

        $("#dialog").css("margin","-450px 0 0 -900px");

        $("#msgboard_user").text("用户" + user_name + "的评论：");
        $("#msgboard_add_content").val(content);

        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();

        $.getJSON("/ams/msgboard/reply?Authorization="+token+"&id="+id, function(json) {
            if(json.err_code == 0) {
                if(json.data != null){
                    $("#reply_add_content").summernote("code",json.data.content);
                }
            }else{
                toastr.warning("获取公告列表失败!!!");
            }
        });
    }

    function MsgboardPageInit(){
        $.getJSON("/ams/msgboard/list?Authorization="+token, function(json) {
            if(json.err_code == 0) {
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";
                    var stateHtml = "";

                    var id = json.data[i].msgboard_id;
                    var s = json.data[i].state;

                    if(s == 1){
                        state = "通过";
                        stateHtml = "<img onclick='UpdateMsgboardState(" + id + ",2)' src='./images/down.png' title='未通过' style='width:20px;height:20px;cursor: pointer;margin-left:30px;' /><img onclick='UpdateMsgboardState(" + id + ",3)' src='./images/left.png' title='未知' style='width:20px;height:20px;cursor: pointer;margin-left:10px;' />"
                    }else if(s == 2){
                        state = "未通过";
                        stateHtml = "<img onclick='UpdateMsgboardState(" + id + ",1)' src='./images/up.png' title='通过' style='width:20px;height:20px;cursor: pointer;margin-left:30px;' /><img onclick='UpdateMsgboardState(" + id + ",3)' src='./images/left.png' title='未知'  style='width:20px;height:20px;cursor: pointer;margin-left:10px;' />"
                    }else if(s == 3){
                        state = "未知";
                        stateHtml = "<img onclick='UpdateMsgboardState(" + id + ",1)' src='./images/up.png' title='通过' style='width:20px;height:20px;cursor: pointer;margin-left:30px;' /><img onclick='UpdateMsgboardState(" + id + ",3)' src='./images/down.png' title='未通过'  style='width:20px;height:20px;cursor: pointer;margin-left:10px;' />"
                    }

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + id + "</td>";
                    tbody += "<td>" + json.data[i].user_name + "</td>";
                    tbody += "<td>" + json.data[i].content + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td><a href='#' onclick=\"SeeReplayDialog(" + id + ",'" + json.data[i].user_name + "','" + json.data[i].content + "')\">回复</a>" + stateHtml + "</td>";
                    tbody += "</tr>";
                }

                $("#msgboard_manager_table_tbody").html(tbody);

                var table = $('#msgboard_manager_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();


            }else{
                toastr.warning("获取公告列表失败!!!");
            }
        });
    }

    function jump(obj){
        if(obj == 1 || obj == 2){
            hidePage();
            $("#basic_page").show();
            BasicPageInit();
            //$("#spanJump").html("<a href='#' onclick='jump(1)'>用户</a>><a href='#' onclick='jump(2)'>用户管理</a>");
        }else if(obj == 4){
            hidePage();
            $("#user_page").show();
            $("#spanJump").html("<a href='#' onclick='jump(1)'>用户</a>><a href='#' onclick='jump(2)'>用户管理</a>");
            UserPageInit()
        }else if(obj == 3){
            hidePage();
            $("#param_set_page").show();

            ParamPageInit()
        }else if(obj == 5){
//            hidePage();
//            $("#contract_page").show();
//            ContractPageInit();

            location.href = "http://" + window.location.host + "/html/contract.html?" + "Authorization=" + token;

        }else if(obj == 6){
            hidePage();
            $("#worklist_page").show();

            WorklistPageInit();
        }else if(obj == 7){
            hidePage();
            $("#notice_page").show();
            NoticePageInit();
        }else if(obj == 8){
            hidePage();
            $("#question_page").show();
            QuestionPageInit();
        }else if(obj == 9){
            hidePage();
            $("#msgboard_page").show();
            MsgboardPageInit();
        }
    }

    function colorAdd() {
        var topHtml = "";
        topHtml += "<div class='form-group'>";
        topHtml += "<input class='form-control col-md-8' type='text' placeholder='平台名称' style='width:110px;'>";
        topHtml += "<div class='col-md-8'>";
        topHtml += "<input class='form-control col-md-8 btnColor' type='text' placeholder='点击选择颜色值' style='width:300px;'>";
        topHtml += "</div></div>";
        $("#topset").html($("#topset").html() + topHtml);

        $('.btnColor').colpick({

            colorScheme:'dark',

            layout:'rgbhex',

            color:'ff8800',

            onSubmit:function(hsb,hex,rgb,el) {
                $(el).css('background-color', '#'+hex);
                $(el).val('#' + hex);
                $(el).colpickHide();

            }

        })
    }

    function UpdateUser(user) {
        dialogHide();
        $("#user_update_form").show();

        $("#dialog").css("width","400px");
        $("#dialog").css("height","320px");
        $(".ipt").css("width","180px");
        $("select").css("width","180px");

        $("#user_update_form").find("input").eq(0).val(user.name);
        $("#user_update_form").find("input").eq(1).val(user.account);
        $("#user_update_form").find("input").eq(2).val(user.email);
        $("#user_update_form").find("input").eq(3).val(user.rate);

        var state = "";
        if(user.state == 1){
            state = "正常"
        }else if(user.state == 2){
            state = "冻结"
        }
        $("#user_update_form").find("select").eq(0).val(state);


        $('#dialogBg').fadeIn(100);
        $('#dialog').removeAttr('class').addClass('animated bounceIn').fadeIn();
    }

    function GetWallets(userId){
        $.getJSON("/ams/user/wallet?Authorization="+token+"&user_id="+userId, function(json) {
            if(json.err_code == 0) {

                $("#spanJump").html("<a href='#' onclick='jump(1)'>用户</a>><a href='#' onclick='jump(2)'>用户管理</a>><a href='#'>钱包管理</a>");

                $("#user_manager").hide();
                $("#son_manager").hide();
                $("#user_wallet_manager").show();
                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].address + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td>" + json.data[i].updated_at + "</td>";
                    tbody += "<td><a href='#'>删除</a></td>";
                    tbody += "</tr>";
                }

                $("#user_wallet_table_tbody").html(tbody);

                var table = $('#user_wallet_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "paging": true,
                    "retrieve": true,
                    "bAutoWidth": true,//自动宽度
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();

            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

    function GetSonUsers(userId){
        $.getJSON("/ams/user/list?Authorization="+token+"&user_id="+userId, function(json) {
            if(json.err_code == 0) {

                if(json.data == null){
                    alert("没有子用户")
                    return
                }
                $("#spanJump").html("<a href='#' onclick='jump(1)'>用户</a>><a href='#' onclick='jump(2)'>用户管理</a>><a href='#'>子用户管理</a>");

                $("#user_manager").hide();
                $("#user_wallet_manager").hide();
                $("#son_manager").show();

                var tbody = "";
                for (var i = 0; i < json.data.length; i++) {

                    var state = "";
                    if(json.data[i].state == 1){
                        state = "正常"
                    }else if(json.data[i].state == 2){
                        state = "冻结"
                    }
                    tbody += "<tr role='row' class='odd'>";
                    tbody += "<td>" + json.data[i].id + "</td>";
                    tbody += "<td>" + json.data[i].name + "</td>";
                    tbody += "<td>" + json.data[i].account + "</td>";
                    tbody += "<td>" + json.data[i].email + "</td>";
                    tbody += "<td>" + state + "</td>";
                    tbody += "<td>" + json.data[i].created_at + "</td>";
                    tbody += "<td><a href='#' onclick='GetWallets(" + json.data[i].id + ")'>管理钱包</a><a href='#' style='margin-left:10px;' onclick='GetSonUsers(" + json.data[i].id + ")'>子用户管理</a><a href='#' style='margin-left:10px;'>删除</a></td>";
                    tbody += "</tr>";
                }

                $("#son_table_tbody").html(tbody);

                var table = $('#son_table').dataTable({
                    "bStateSave": false,//状态保存
                    "bPaginate": true, //翻页功能
                    "bLengthChange": true, //改变每页显示数据数量
                    "bFilter": true, //过滤功能
                    "bSort": true, //排序功能
                    "bInfo": true,//页脚信息
                    "bAutoWidth": true,//自动宽度
                    "paging": true,
                    "retrieve": true,
                    "iDisplayLength" : 25,// 每页显示行数
                    "aaSorting" : [[1, "asc"]], //默认的排序方式，第2列，升序排列
                    "oLanguage": {
                        "sLengthMenu": "每页显示 _MENU_ 条记录",
                        "sZeroRecords": "对不起，查询不到任何相关数据",
                        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                        "sInfoEmtpy": "找不到相关数据",
                        "sInfoFiltered": "数据表中共为 _MAX_ 条记录)",
                        "sProcessing": "正在加载中...",
                        "sSearch": "搜索",
                        "sUrl": "", //多语言配置文件，可将oLanguage的设置放在一个txt文件中，例：Javascript/datatable/dtCH.txt
                        "oPaginate": {
                            "sFirst":    "第一页",
                            "sPrevious": " 上一页 ",
                            "sNext":     " 下一页 ",
                            "sLast":     " 最后一页 "
                        }
                    }
                });

                table.search("").draw();

            }else{
                toastr.warning("获取用户列表失败!!!");
            }
        });
    }

</script>

</body>
</html>